---
tags:
  - XSS
  - WEB
Date: 2026-02-06
---
XSS 就是**黑客把恶意的代码（通常是 JavaScript）“注入”到了原本正常的网页中**，当用户访问这个网页时，浏览器会误以为这些代码是合法的，从而执行它们。

### 核心原理：信任了不该信任的输入

Web 应用通常会接收用户的输入（比如搜索框、评论区、URL 参数），然后将其显示在页面上。

如果程序没有对用户的输入进行严格的**过滤**或**转义**，直接把输入的内容当做网页代码的一部分输出到浏览器，就会产生 XSS。

**举个最简单的例子：**

假设有一段 PHP 代码，直接把用户输入的名字显示出来：

PHP

```
// 漏洞代码
echo "你好，" . $_GET['name'];
```

- **正常情况：** 用户访问 `index.php?name=张三`，页面显示：“你好，张三”。
    
- **攻击情况：** 用户（攻击者）输入一段脚本：`index.php?name=<script>alert('XSS')</script>`。
    
- **结果：** 页面生成的 HTML 变成了 `你好，<script>alert('XSS')</script>`。浏览器看到 `<script>` 标签，就会立刻执行里面的代码，弹出一个警告框。

### XSS 的三种主要类型

根据攻击代码存储的位置和触发方式，XSS 主要分为三类：

#### A. 反射型 XSS (Reflected XSS) —— “即时陷阱”

- **特点：** 恶意代码**不存储在服务器**的数据库中。
    
- **流程：** 攻击者构造一个带有恶意参数的 URL（比如上面的例子） -> 诱导受害者点击 -> 服务器接收参数并“反射”回浏览器 -> 浏览器执行代码。
    
- **场景：** 搜索框、错误提示页面。
    
- **关键点：** 必须诱导用户点击特定的链接才能触发。
    

#### B. 存储型 XSS (Stored XSS) —— “埋藏的地雷”

这是最危险的一种。

- **特点：** 恶意代码被**永久存储在服务器的数据库**中。
    
- **流程：** 攻击者在评论区、留言板发布包含恶意脚本的内容 -> 服务器将其存入数据库 -> **任何用户**访问该页面时，服务器从数据库读取内容并显示 -> 所有访问者的浏览器都会执行恶意代码。
    
- **场景：** 论坛发帖、商品评论、用户签名。
    
- **关键点：** 不需要用户点击特定链接，只要正常浏览页面就会中招。
    

#### C. DOM 型 XSS (DOM-based XSS) —— “本地故障”

- **特点：** 漏洞完全发生在**浏览器端（前端）**，与服务器端的解析无关。
    
- **流程：** 前端 JavaScript 代码直接从 URL 或输入框获取数据，并不安全地操作了 DOM（比如使用了 `innerHTML` 写入数据）。
    
- **场景：** 现代单页应用（SPA）、复杂的前端交互逻辑。